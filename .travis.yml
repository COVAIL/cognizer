language: r
cache: packages
matrix:
  include:
  - os: linux
    dist: precise
    sudo: false
  - os: linux
    dist: trusty
    env:
    - R_CODECOV=true
  - os: osx
    osx_image: xcode8
    before_install:
    - brew install curl
    - brew link --force curl
    latex: false
  - os: osx
    osx_image: xcode7.3
    latex: false
addons:
  apt:
    packages:
    - libcurl4-openssl-dev
env:
  global:
  - secure: vBiF8R+JSSJLqR3eqT+nCykn5gALoBZ/LVC3NFd60HZdwC3Dclx5fEdxPZfLe/G0ABUgQq5HNdOR2kQfqwyitnHzALdhakGv53t1+pPVKFAm4lc9HpWjOLFSHOTtMnZwwHx78q8tAr9NLn9xve93sdUuXVwzWOXZlMqsr201sXDBA2g5EBxP94wmiR5K+tqBKl+B+Mgl35lhtWLCTctCc4Tp+bncSSefIrD5LqNjZU3bZkGj62GXn+jHpEOB5OMSM8PXrVCwtGkRpP07Ls9kQ5z0G1AQY6sJR/ShgAdXi7QDjs0sQHAidgTdnlQgvKQAvJYeTY34uHN5QzjoX50PEzfU9JEDLL8u4KmDzFSSMLIdG/SjXjDKeutWc+odtbBrwe1/eJqHP/g9H4u8hdxF/n1KzKn4UO1JuCWXKl+bJjaaGDTyY+X4F51No6DuDJW+euP3JSqNyqwjrSWYkj/qGF05pTlTHQoiIA599az+VrTKC10IQuYXMynh5+x2Ht6Y5oA3pRln7B2XwrPIl78rE/643tj6OvyNFX2dkWQvDVwFUXNm3GTNrW2ZcA//j052GTqYJqYQpLz8RrNaTmSdGSGB/xZmEvPo9uFLKRaQ1QETmLahK6rL/+x+Vg3sa0x9mm2JS57xrEQq7cSarlUAeFod2nA3khEadXz7zNpffvU=
  - secure: oEJoBeQfdvVRCmqtg9j+WdypUyHlCbjh6J7cPfYUVgf+jrNZHvt4gVZcSKE1632G+PVJ5iveDikRNhFGFDGZ57q8XKaq9vhpPWQjeLMNIMkozf3in1yMbXT2dVAfXzlsaMWEiOKsGh9wiTy2vCBiSsfrVumT63v3UnNTS4O60oD5C+13obbrG1fa/hRZXQ6QWN5iCsRMxSmmakOJfHNIW5dLb0Y7Pe8NC9l53vuex+eB+4OBgFsiGscK+UkECFCHduXmWePItos7wDSYQD4MHkoRQ2CZp7r7leTeEiOLYW3FcHaTtDm+KoDHrLz29HjFzQ2BPqcyTfV6S+g3fwEMkJ/5+bWUrrSOnX3hkA73K/IEE+fve3G/p4Biko+PevdZjBgM+rUJfpzM9bY0YCoHPjwgD6jhjmHrb4kmXqyIX6uO1BtL72MFGIWDziDQis+eRulGKwjKes4w7aymSPbA9Zy5AKvCwalvchE4XGomOR5hsSF+y3mwbLH28E48u9SyoyeZcJRu7DCPLWosTdpZh2M5j3DnhEbIanMBhK3hf9Ke+rRZrwl8zwdC0wwfWTpMtLw+GXI54TqQOa02UVQ5uxSQnK0uiZjnm4w15pTyzb6p4u4x44W9MN5Pb6PIrS8oLBdW4EoLgG4LCMJH27pAJ3elNkDLwSZ6nSROuM9cTq0=
  - secure: Ik2UQhLdBFwWstYdf+bk7CbM5crcM1ndcVl68Ebb2IxlxZMP/U3fHqWH4q76AQaA2gWxNnLgmrNy3DeHxfUW0S3vZUFg0AlIM6yK5T3PiTEtjxF3Ij2nXadpMFhSI+YaNZspEzp4xyofYZFx0fMDot50Sg6pqFowwDhP9NBHcPzo0yshjzhGthJuXIVktagk9emRfnsxMCBqHZ+ptvZAlD4k7tD24jg31pl5612HAIKofH9RQmhoTR2YDwbovhsIRy39tgXdPHWkuoG+8SRZ4QvMXbZYf8ktgC1xec1HAA36qTA36zi/N7gAX0D8SzVEfUrUYFsVCd/+bvF08Dx2VgUGtU5oH5VEjm3R/rrjkWdwHHLkcQlqsntOUyywHW6pGDUrMNdQLZMgF7mWxMq+908SZArbHOWYZOAcRfVxgya6xLUPY5GOnRL0lhlnAWqATkVQhqK+dcB6neVZyuVJJF8tMxhwYDOkeMfwvnp2ny9gpzfOL/fRXVuY6ovDQOJwlwM14e5wj9iP5mlZFl0/pXsroKQqjp+GsSJVV8Lxj6SfXQxUmh7qmcNXRIs1pfJVGCvPlEB21Su6AAXfLXoggALrxR0njTMVY72FGaQRQDrBz3FEjiAJS0H5aCAx66mMJ5Ksm+/5B8q2V543pB0/5+eU2obm49i3Z+x8xNdWUgk=
  - secure: hUQ/WoV6itx21ZrFdtrL7MGq1cm5VQHrkvUPdAwkCBZWAI13LvmqUl3TDKvIuPGG6X+nPcIuHiZIWceFnC5r1jPcdwd63LkjA+eBF+HoQ2JpiES9+AUgGyrcSgFN7445GpTH9oQ2zU6/DtsttZF0ejFiY48xq3gbzep0AK40Rt/aCGWU/pepf7muX5slrT9DUEcSYVVmIDlEqoLQuuqVLkDXWRunxBMKqMj5DKpS3T2KMR991CdwoVF1SQBoCibqugPKka5AGyMYZMFziHxzxUvOTCgxzkLmGhHoin4I3DxvQ66gCdgBYMQdbxTchm2bMOuTU1iIQf42tbqwo+Afz0Gi2NpjKg5Co0G7p2td7yXw1YLzBLT1/CJjfn0XYVp3YXCcLmexzlCPeO1/WP2qrRcMZhhbZzKJHT3JEKrHy4DMzvKEtybKfPfmmRo6dTCpjPHHHV92/SQGr4PqwDOj98fdueeRT6emHSUjsGyNz2DI8i4JV4EBv0MTEw6xhwbJbTndYmL+TvkINZqkbp8WKYoXKJVj9sZ7DxG2NSV4zGmjZRYYaK4sIuxqXz18s0aEQjtmtita0om7UBenHSzVRNT7V1JR57IH8dR8ViAamCasxfYSz2HUXFqO3rg0r9tCh3w9yhblREqqFke/13a8cBY6JlRfs1bQx4Avgv5WcXQ=
  - secure: QmNUrM7VkdoWyn/0T92ARcG5IHU0aqHTLfBg5AkCYxawXSB08aqnE3VWk8I+OGfeh6rn1NNtTh8hu1oH6nxO337oKhEDPpZRQ+1aaDh0kbCzlWEZ3YFOdpViGA5AQkq3rhKkleZFderWwEyWKKDBiqkQTbUVbromYdmx5xc/Mem6/0ID1drySSjLDWYk99AO+4cZjLv1A/4HvCTVSJHyN3aUrAmGdsZjyGKIURLx2tg4AQG32F07gbkJbZkcJV3wuFgSTAl2ygk3LmcFGB0ca5k0VxbOqRS9TWUVF0ji354auwZQWPa1uPfbCNcrRhyFuD8CmJczTpaPKnHeuMZwlo7kzyvs2/uj5PBL86ZBM7rUns0BQTWy6vf0s8IDntdv5SMpUyVKf5tAG6CHRLoDm1nZD8S+2/bEcrDTXr6+BQxc8V5oo5Xk7+pMol2CRd2rVeOCePd064AWw7suoIptODeB+KcA26SUQR9TUkLXlWIwJF/YvM5UIBNTHlhFLwcO7BWg5l8CF0PaZn0meTniEKsZD3FMmSoJUQyHSxSZP6h1DJyEpcg1SqLmAnF8ZtDkJwX0VODJDI31n61xvZLUWfVVfg7ajt7SfRuhlv97FlFEim3u2LSJ2krCHMGU547GvYWbzmazHFDmb2I99qIyzXwGa9Sggom68bGavEj+OTk=
  - secure: DVChKxq0Wk95v8sN5U2FrtunPwF1f5x1Iuy6RNPQ5K7w92PvDW7nJB/Fg1zS7EuvCoOCPoCQAXAjiFf4jyvdv7FkpXabHhjfSqUedju6uqfY/8VVjw7mWzDgMONxAom63n7+CztyrexuLQCOspELloax/vmy7iJph1DGya6nU9BrHSEwd9zqbIUi/Bzfvt3Q26AAO67/Op4CCSkxEi+4OzRILWgaLPBcByimyK5Wy5ETMMGxO9ybROJKH2Uw4cBSlntxurrJxZwIIOseP5cST5oEo/xEX6iNRaG1C1Tt2Dxxhe/WN/tOh+98yi0KehgljgNUc/xNcnyXZS6Y6CXKftx7aC/qO6pFhxe2M6RmEaF7iq6qLZjXXRJejZwDDjFo26MqM6LkA9mCd8KTphsP+h9zzlyU+bXn0Qpk77PpOg3h4QvgQ6Zlgxmhvguw1GcqIdfWRsDBXqixkZPGjckG4wHcDeoJNEPXxhFJyng7gl6ZQBPpV8bzxrHPT3AgfNUIQQIK4uQo6BCpjHacj25+9cwSvfMK1wyGHTlV7YZxLy3SLuvVKo0kdiIvrRiRz4uo+40rCWaDFtThB+ehSyOg4YcfuhhrNAtlisB1MkyCN+qU6NET5ceDOB1NfI3KTbwb1l7p2qfuUpnDpz+zovmHF+77ynoqI0JrEM9+bxP8WrY=
  - secure: P6XSphhEfUPkWDLPP6v37N2bQ6rYjFNl5vKtYBqmuyBJ6lHRHn1qti2fpDCsT5/IyJEgWMU+4ZNY0dyQxIjXdOYc3LTx8HcS3mdZXdg+zkA1x34U/37DPFC0YCDWeEAsIXwhfEt3Jl1j9xJiFLwPp4jtssVZOBzdk12PcRG+d6/pBZ6HKq1tAmsPVDq1g4nf3a5LjEHFT6B1X/7pbi0WK4yK2cF9d29+0Zt2Z+ueDYUF+2BpSygYXJFcfy/stzJECXUTawocIEdN+wCCENfKyq5bxnhEUfjASsVZXsQQ9BUuRTJxpeZuOGoqGpf5LM74JzWICnV2QMX0nY548jJzd5rCQqNc2SL/aNsjpXh7Cc3Hnz5ncAV2GE2rCjR88/VNGr6ntApKBgp2MHMbRU+OJV41PLotL4WM8iv8x/Vol0wyrEwUoe6bLTRiqi8a25VomwTE5NGt4xDOFXUq6h+0jt+9TfBMlFOw0pb8yBegobPRBevEFbmWRPTrgwdm7b4fkitlThtDI5p8f0O2M27lvHSByAmv2KvrZjRf0Vg4rrtJmW9Ezxwv42Z2g/WjGUHT4ZRSDP1p5bISSUTotQ7ZAGSEVZDQm9KQgDTmedBiwQTFl22fkk6L3M9DHPvb0Jv//5hPGO3BK3opZjSpg8yKLZzTr0XU/GzRbV2ZJ74QhRw=
r_github_packages:
- jimhester/covr
after_success:
- if [[ "${R_CODECOV}" ]]; then R -e 'covr::codecov()'; fi
warnings_are_errors: true
notifications:
  email:
    on_success: change
    on_failure: change
